{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrahead %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'sso/css/rbac-theme.css' %}">
{% endblock %}

{% block bodyclass %}{{ block.super }} rbac-page{% endblock %}

{% block content_title %}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">Home</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label='sso' %}">SSO</a>
    &rsaquo; <a href="{% url 'sso_rbac_dashboard' %}">RBAC</a>
    &rsaquo; <a href="{% url 'sso_assignment_list' %}">Assignments</a>
    &rsaquo; Remove
</div>
{% endblock %}

{% block content %}
<h1>Remove Assignment</h1>

<div class="delete-confirmation">
    <p>Are you sure you want to remove <strong>{{ assignment.user.email }}</strong> from the role <strong>"{{ assignment.role.name }}"</strong> ({{ assignment.role.application.name }})?</p>
    {% if assignment.tenant_code %}
    <p>Tenant: {{ assignment.tenant_code }}</p>
    {% endif %}
    <p class="warning">The user will lose all permissions granted by this role. This action cannot be undone.</p>

    <form method="post" class="rbac-form">
        {% csrf_token %}
        <div class="submit-row">
            <button type="submit" class="btn-danger">Yes, Remove Assignment</button>
            <a href="{% url 'sso_assignment_list' %}" class="btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
